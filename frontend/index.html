<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ”Œ OpenPartSelector - ç”µå­å…ƒå™¨ä»¶é€‰å‹ç¥å™¨</title>
    <meta name="description" content="ä¸“ä¸ºç”µå­ç±»ä¸“ä¸šå¤§å­¦ç”Ÿæ‰“é€ çš„å…ƒå™¨ä»¶é€‰å‹å·¥å…·ï¼Œå…è´¹å¼€æº">
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{
            font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"PingFang SC","Microsoft YaHei",sans-serif;
            background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
            min-height:100vh;
            color:#2d3748;
        }
        .container{max-width:1200px;margin:0 auto;padding:20px}
        
        /* å¤´éƒ¨ */
        .hero{
            text-align:center;
            padding:60px 20px;
            background:linear-gradient(135deg,#1a1a2e 0%,#16213e 100%);
            border-radius:0 0 50px 50px;
            margin-bottom:40px;
            box-shadow:0 20px 60px rgba(0,0,0,0.3);
        }
        .hero-logo{font-size:80px;margin-bottom:20px}
        .hero h1{
            font-size:3em;
            background:linear-gradient(90deg,#00d2ff,#3a7bd5);
            -webkit-background-clip:text;
            -webkit-text-fill-color:transparent;
            margin-bottom:15px
        }
        .hero p{color:#a0aec0;font-size:1.3em;margin-bottom:25px}
        .hero-tags{display:flex;flex-wrap:wrap;justify:center;gap:12px}
        .hero-tag{
            padding:8px 20px;
            background:rgba(255,255,255,0.1);
            border-radius:25px;
            color:#fff;
            font-size:14px;
        }
        
        /* å¡ç‰‡ */
        .card{
            background:#fff;
            border-radius:20px;
            padding:35px;
            margin:25px 0;
            box-shadow:0 10px 40px rgba(0,0,0,0.1);
            transition:transform 0.3s,box-shadow 0.3s;
        }
        .card:hover{
            transform:translateY(-5px);
            box-shadow:0 20px 60px rgba(0,0,0,0.15);
        }
        .card h2{
            font-size:1.8em;
            color:#1a202c;
            margin-bottom:20px;
            display:flex;
            align-items:center;
            gap:12px
        }
        
        /* æœç´¢æ¡† */
        .search-wrapper{
            background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
            border-radius:20px;
            padding:30px;
            margin:30px 0;
        }
        .search-box{
            display:flex;
            gap:15px;
            background:#fff;
            border-radius:15px;
            padding:10px;
        }
        .search-box input{
            flex:1;
            padding:18px 25px;
            font-size:18px;
            border:none;
            outline:none;
            border-radius:10px;
        }
        .search-box button{
            padding:18px 40px;
            font-size:18px;
            font-weight:bold;
            background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
            color:#fff;
            border:none;
            border-radius:12px;
            cursor:pointer;
            transition:all 0.3s;
        }
        .search-box button:hover{
            transform:scale(1.05);
            box-shadow:0 10px 30px rgba(102,126,234,0.4);
        }
        
        /* çƒ­é—¨æœç´¢ */
        .hot-tags{display:flex;flex-wrap:wrap;gap:12px;margin-top:20px}
        .hot-tag{
            padding:12px 22px;
            background:rgba(255,255,255,0.2);
            border-radius:25px;
            color:#fff;
            cursor:pointer;
            font-size:15px;
            transition:all 0.3s;
        }
        .hot-tag:hover{
            background:rgba(255,255,255,0.3);
            transform:scale(1.05);
        }
        
        /* ç»“æœå¡ç‰‡ */
        .result{
            background:linear-gradient(135deg,#f5f7fa 0%,#c3cfe2 100%);
            border-radius:18px;
            padding:28px;
            margin:18px 0;
            border-left:6px solid #667eea;
            transition:all 0.3s;
        }
        .result:hover{
            transform:translateX(10px);
            box-shadow:0 10px 30px rgba(102,126,234,0.2);
        }
        .result h3{
            color:#667eea;
            font-size:1.5em;
            margin-bottom:12px
        }
        .result-meta{
            display:flex;
            flex-wrap:wrap;
            gap:10px;
            margin:15px 0
        }
        .meta-tag{
            padding:8px 18px;
            background:#fff;
            border-radius:20px;
            font-size:14px;
            color:#4a5568;
        }
        .meta-tag.price{
            background:linear-gradient(135deg,#48bb78 0%,#38a169 100%);
            color:#fff;
            font-weight:bold;
        }
        .meta-tag.stock{
            background:linear-gradient(135deg,#4299e1 0%,#3182ce 100%);
            color:#fff;
        }
        
        /* åŠŸèƒ½ç½‘æ ¼ */
        .features{
            display:grid;
            grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
            gap:25px;
            margin:40px 0
        }
        .feature{
            text-align:center;
            padding:40px 30px;
            background:linear-gradient(135deg,#f5f7fa 0%,#e4e8eb 100%);
            border-radius:20px;
            transition:all 0.3s;
        }
        .feature:hover{
            transform:translateY(-10px);
            background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
            color:#fff;
        }
        .feature:hover .feature-icon{transform:scale(1.2)}
        .feature-icon{font-size:60px;margin-bottom:20px;transition:transform 0.3s}
        .feature h3{font-size:1.4em;margin:15px 0;color:#2d3748}
        .feature:hover h3{color:#fff}
        .feature p{color:#718096;font-size:15px;line-height:1.6}
        .feature:hover p{color:rgba(255,255,255,0.9)}
        
        /* ä¸‹è½½åŒºåŸŸ */
        .download-section{
            background:linear-gradient(135deg,#1a1a2e 0%,#16213e 100%);
            border-radius:25px;
            padding:50px;
            text-align:center;
            margin:40px 0;
        }
        .download-section h2{color:#fff;font-size:2.2em;margin-bottom:15px}
        .download-section p{color:#a0aec0;font-size:1.2em;margin-bottom:35px}
        .download-buttons{display:flex;flex-wrap:wrap;justify:center;gap:20px}
        .download-btn{
            display:inline-flex;
            align-items:center;
            gap:12px;
            padding:20px 45px;
            background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
            color:#fff;
            text-decoration:none;
            border-radius:30px;
            font-size:18px;
            font-weight:bold;
            transition:all 0.3s;
        }
        .download-btn:hover{
            transform:scale(1.1);
            box-shadow:0 15px 40px rgba(102,126,234,0.5);
        }
        .download-btn.secondary{
            background:rgba(255,255,255,0.1);
            border:2px solid rgba(255,255,255,0.3);
        }
        
        /* å•†åŸé“¾æ¥ */
        .shops{display:flex;flex-wrap:wrap;justify:center;gap:20px;margin-top:30px}
        .shop-link{
            display:flex;
            align-items:center;
            gap:10px;
            padding:15px 30px;
            background:rgba(255,255,255,0.1);
            border-radius:15px;
            color:#fff;
            text-decoration:none;
            font-size:16px;
            transition:all 0.3s;
        }
        .shop-link:hover{background:rgba(255,255,255,0.2)}
        
        /* çŠ¶æ€æŒ‡ç¤º */
        .status-bar{
            display:flex;
            justify-content:center;
            gap:30px;
            padding:20px;
            background:rgba(0,0,0,0.2);
            border-radius:15px;
            margin:25px 0;
        }
        .status-item{
            display:flex;
            align-items:center;
            gap:10px;
            color:#a0aec0;
        }
        .status-dot{
            width:12px;
            height:12px;
            background:#48bb78;
            border-radius:50%;
            animation:pulse 2s infinite;
        }
        @keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}
        
        /* é¡µè„š */
        .footer{
            text-align:center;
            padding:50px;
            color:#a0aec0;
        }
        .footer a{color:#667eea;text-decoration:none}
        
        /* åŠ è½½åŠ¨ç”» */
        .loading{text-align:center;padding:50px;display:none}
        .loading.show{display:block}
        .spinner{
            width:60px;
            height:60px;
            border:6px solid rgba(255,255,255,0.1);
            border-top-color:#667eea;
            border-radius:50%;
            animation:spin 1s linear infinite;
            margin:0 auto 20px;
        }
        @keyframes spin{to{transform:rotate(360deg)}}
        
        /* å“åº”å¼ */
        @media(max-width:768px){
            .hero h1{font-size:2em}
            .search-box{flex-direction:column}
            .features{grid-template-columns:1fr}
        }
    
    /* æ·±è‰²æ¨¡å¼ */
    body.dark-mode{background:linear-gradient(135deg,#1a1a2e 0%,#16213e 100%) !important;color:#fff !important}
    body.dark-mode .card{background:#1a1a2e !important;border:1px solid rgba(255,255,255,0.1) !important}
    body.dark-mode .card h2{color:#fff !important}
    body.dark-mode .result{background:linear-gradient(135deg,#1a1a2e 0%,#16213e 100%) !important}
    body.dark-mode .feature{background:rgba(255,255,255,0.05) !important}
    body.dark-mode .search-wrapper{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%) !important}
    body.dark-mode .download-section{background:#1a1a2e !important}
    </style>
</head>
<body>
    <!-- å¤´éƒ¨ -->
    <button id="darkToggle" onclick="toggleDark()" style="
        position:fixed;top:20px;right:20px;z-index:9999;
        padding:10px 20px;background:rgba(255,255,255,0.2);
        border:none;border-radius:25px;color:#fff;cursor:pointer;font-size:14px;">
        ğŸŒ™ æ·±è‰²
    </button>
    
    <div class="hero">
        <h1>OpenPartSelector</h1>
        <p>ä¸“ä¸ºç”µå­ç±»ä¸“ä¸šå¤§å­¦ç”Ÿæ‰“é€ çš„å…ƒå™¨ä»¶é€‰å‹ç¥å™¨ ğŸš€</p>
        <div class="hero-tags">
            <span class="hero-tag">ğŸ’° å…è´¹å¼€æº</span>
            <span class="hero-tag">ğŸ“ å­¦ç”Ÿå‹å¥½</span>
            <span class="hero-tag">ğŸ‡¨ğŸ‡³ å›½äº§æ›¿ä»£</span>
            <span class="hero-tag">ğŸ“¦ å®æ—¶æ¯”ä»·</span>
        </div>
    </div>

    <div class="container">
        <!-- æœç´¢å¡ç‰‡ -->
        <div class="card">
            <h2>ğŸ” æ™ºèƒ½é€‰å‹</h2>
            <p style="color:#718096;font-size:1.1em;margin-bottom:20px;">
                è¾“å…¥å™¨ä»¶å‹å·æˆ–éœ€æ±‚ï¼Œå®æ—¶æœç´¢å…¨ç½‘æœ€ä¼˜æ–¹æ¡ˆ
            </p>
            
            <div class="search-wrapper">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="è¾“å…¥å‹å·ï¼šSTM32F103C8T6ã€ESP32ã€CH340...">
                    <button onclick="search()">ğŸ” ç«‹å³æœç´¢</button>
                </div>
                
                <p style="color:#fff;margin:15px 0 10px;font-size:15px;">ğŸ”¥ çƒ­é—¨æœç´¢ï¼š</p>
                <div class="hot-tags">
                    <button class="hot-tag" onclick="setQuery('STM32F103C8T6')">STM32F103</button>
                    <button class="hot-tag" onclick="setQuery('ESP32-WROOM')">ESP32</button>
                    <button class="hot-tag" onclick="setQuery('STC89C51')">STC89C51</button>
                    <button class="hot-tag" onclick="setQuery('CH340N')">CH340N</button>
                    <button class="hot-tag" onclick="setQuery('ATMEGA328P')">ATMEGA328P</button>
                    <button class="hot-tag" onclick="setQuery('NE555')">NE555</button>
                    <button class="hot-tag" onclick="setQuery('RP2040')">RP2040</button>
                    <button class="hot-tag" onclick="setQuery('GD32F103')">GD32å›½äº§</button>
                </div>
            </div>

            <div class="status-bar">
                <div class="status-item">
                    <div class="status-dot"></div>
                    <span>ğŸ”¥ å®æ—¶æœç´¢å·²å°±ç»ª</span>
                </div>
                <div class="status-item">
                    <span>ğŸ“¦ æ”¯æŒ 100+ å™¨ä»¶ç±»å‹</span>
                </div>
                <div class="status-item">
                    <span>ğŸ”— 5+ ä¸»æµå•†åŸ</span>
                </div>
            </div>

            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p style="color:#718096;font-size:1.1em;">ğŸ”„ æ­£åœ¨æœç´¢...</p>
            </div>
            <div id="results"></div>
        </div>

        <!-- æ ¸å¿ƒåŠŸèƒ½ -->
        <div class="card">
            <h2>âœ¨ æ ¸å¿ƒåŠŸèƒ½</h2>
            <div class="features">
                <div class="feature">
                    <div class="feature-icon">ğŸ”</div>
                    <h3>æ™ºèƒ½æœç´¢</h3>
                    <p>è‡ªç„¶è¯­è¨€æœç´¢<br>æ¨¡ç³ŠåŒ¹é…<br>å¿«é€Ÿå®šä½</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">ğŸ’°</div>
                    <h3>å…¨ç½‘æ¯”ä»·</h3>
                    <p>ç«‹åˆ›å•†åŸ<br>æ·˜å®/äº¬ä¸œ<br>æœ€ä½ä»·è´­ä¹°</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">ğŸ‡¨ğŸ‡³</div>
                    <h3>å›½äº§æ›¿ä»£</h3>
                    <p>STâ†’GD32<br>ä¸€é”®æ›¿æ¢<br>é™æœ¬å¢æ•ˆ</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">ğŸ“š</div>
                    <h3>å­¦ä¹ èµ„æº</h3>
                    <p>æ•°æ®æ‰‹å†Œ<br>æ•™ç¨‹é“¾æ¥<br>å¼€æºé¡¹ç›®</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">ğŸ“‹</div>
                    <h3>BOM ç®¡ç†</h3>
                    <p>æ‰¹é‡é€‰å‹<br>æ¸…å•å¯¼å‡º<br>ä¸€ç«™å¼é‡‡è´­</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">âš ï¸</div>
                    <h3>åœäº§é¢„è­¦</h3>
                    <p>EOL æé†’<br>æ›¿ä»£æ¨è<br>ä¾›åº”é“¾å®‰å…¨</p>
                </div>
            </div>
        </div>

        <!-- ä¸‹è½½åŒºåŸŸ -->
        <div class="download-section">
            <h2>ğŸ“¥ è·å–å·¥å…·</h2>
            <p>é€‰æ‹©æœ€é€‚åˆä½ çš„ä½¿ç”¨æ–¹å¼</p>
            <div class="download-buttons">
                <a href="https://github.com/KINGSTON-115/OpenPartSelector/releases" target="_blank" class="download-btn">
                    ğŸªŸ Windows ç‰ˆ
                </a>
                <a href="https://pypi.org/project/OpenPartSelector" target="_blank" class="download-btn">
                    ğŸ“¦ pip å®‰è£…
                </a>
                <a href="https://github.com/KINGSTON-115/OpenPartSelector" target="_blank" class="download-btn secondary">
                    ğŸ’» æºç ä¸‹è½½
                </a>
            </div>
            
            <div class="shops">
                <a href="https://www.lcsc.com" target="_blank" class="shop-link">ğŸª ç«‹åˆ›å•†åŸ</a>
                <a href="https://www.taobao.com" target="_blank" class="shop-link">ğŸ›’ æ·˜å®</a>
                <a href="https://www.jd.com" target="_blank" class="shop-link">ğŸ“¦ äº¬ä¸œ</a>
                <a href="https://www.easyeda.com" target="_blank" class="shop-link">ğŸ¨ ç«‹åˆ›EDA</a>
                <a href="https://www.digikey.com" target="_blank" class="shop-link">ğŸŒ Digi-Key</a>
            </div>
        </div>

        <!-- å­¦ä¹ èµ„æº -->
        <div class="card">
            <h2>ğŸ“š ç”µå­å­¦ä¹ èµ„æº</h2>
            <div class="features">
                <div class="feature">
                    <div class="feature-icon">ğŸ“–</div>
                    <h3>å…¥é—¨æ•™ç¨‹</h3>
                    <p>å•ç‰‡æœºå…¥é—¨<br>EDA è®¾è®¡<br>ç„Šæ¥åŸºç¡€</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">ğŸ”§</div>
                    <h3>å®æˆ˜é¡¹ç›®</h3>
                    <p>å¼€æºé¡¹ç›®<br>ç«èµ›èµ„æ–™<br>æ¯•ä¸šè®¾è®¡</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">ğŸ’¡</div>
                    <h3>ç»éªŒåˆ†äº«</h3>
                    <p>è¸©å‘è®°å½•<br>é€‰å‹æŠ€å·§<br>çœé’±æ”»ç•¥</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">ğŸ“</div>
                    <h3>ç«èµ›æŒ‡å¯¼</h3>
                    <p>ç”µèµ›å‡†å¤‡<br>æ™ºèƒ½è½¦<br>RoboMaster</p>
                </div>
            </div>
        </div>

        <!-- é¡µè„š -->
        <div class="footer">
            <p><strong>OpenPartSelector</strong> | å…è´¹å¼€æº | MIT License</p>
            <p style="margin-top:15px">
                ğŸ“¦ GitHub: <a href="https://github.com/KINGSTON-115/OpenPartSelector">KINGSTON-115/OpenPartSelector</a>
            </p>
            <p style="margin-top:10px;color:#718096;">
                ğŸ“ ä¸“ä¸ºç”µå­ç±»ä¸“ä¸šå¤§å­¦ç”Ÿæ‰“é€  | è®©é€‰å‹æ›´ç®€å•
            </p>
        </div>
    </div>

    <script>
    // æ·±è‰²æ¨¡å¼
    let isDark = false;
    function toggleDark(){
        isDark = !isDark;
        document.body.classList.toggle('dark-mode');
        document.getElementById('darkToggle').innerHTML = isDark ? 'â˜€ï¸ æµ…è‰²' : 'ğŸŒ™ æ·±è‰²';
        localStorage.setItem('darkMode', isDark);
    }
    // æ¢å¤æ·±è‰²æ¨¡å¼
    if(localStorage.getItem('darkMode') === 'true'){
        isDark = true;
        document.body.classList.add('dark-mode');
        document.getElementById('darkToggle').innerHTML = 'â˜€ï¸ æµ…è‰²';
    }
    
    // æœç´¢å†å²
    function saveSearch(query){
        if(!query) return;
        let history = JSON.parse(localStorage.getItem('searchHistory') || '[]');
        history = [query, ...history.filter(h => h !== query)].slice(0, 10);
        localStorage.setItem('searchHistory', JSON.stringify(history));
    }
    
    function showHistory(){
        const history = JSON.parse(localStorage.getItem('searchHistory') || '[]');
        if(history.length === 0) return;
        const html = '<div style="margin:15px 0;padding:15px;background:rgba(255,255,255,0.1);border-radius:12px;"><p style="color:#fff;margin-bottom:10px;">ğŸ“œ å†å²è®°å½•ï¼š</p>' + 
            history.map(h => `<button onclick="setQuery('${h}')" style="margin:5px;padding:8px 15px;background:rgba(255,255,255,0.2);border:none;border-radius:20px;color:#fff;cursor:pointer;">${h}</button>`).join('') +
            '<button onclick="clearHistory()" style="margin-left:10px;padding:5px 10px;background:rgba(255,0,0,0.3);border:none;border-radius:10px;color:#fff;cursor:pointer;">æ¸…ç©º</button></div>';
        return html;
    }
    
    function clearHistory(){
        localStorage.removeItem('searchHistory');
        document.getElementById('historyDiv').innerHTML = '';
    }
    
    // æœ¬åœ°æ”¶è—
    function addFav(part, mfr){
        let favs = JSON.parse(localStorage.getItem('favorites') || '[]');
        if(!favs.find(f => f.part === part)){
            favs.push({part, mfr, time: new Date().toLocaleString()});
            localStorage.setItem('favorites', JSON.stringify(favs));
            alert('â­ å·²æ”¶è—ï¼');
        }
    }
    
    function showFavs(){
        const favs = JSON.parse(localStorage.getItem('favorites') || '[]');
        if(favs.length === 0) return '<p style="color:#a0aec0;text-align:center;padding:20px;">æš‚æ— æ”¶è—</p>';
        return '<div style="padding:20px;"><h4 style="color:#fff;margin-bottom:15px;">â­ æˆ‘çš„æ”¶è—</h4>' +
            favs.map(f => `<div style="padding:10px;background:rgba(255,255,255,0.1);border-radius:10px;margin-bottom:10px;color:#fff;">
                <strong>${f.part}</strong> - ${f.mfr}<br>
                <small style="color:#a0aec0;">${f.time}</small>
                <button onclick="addFav('${f.part}','${f.mfr}')" style="float:right;padding:5px 10px;background:#667eea;border:none;border-radius:8px;color:#fff;cursor:pointer;">+</button>
            </div>`).join('') + '</div>';
    }
    
    // å¿«æ·é”®
    document.addEventListener('keydown', e => {
        if(e.key === '/' && document.activeElement.tagName !== 'INPUT'){
            e.preventDefault();
            document.getElementById('searchInput').focus();
        }
        if(e.key === 'Escape'){
            document.getElementById('searchInput').blur();
        }
    });

    // å™¨ä»¶æ•°æ®åº“ - æ”¯æŒ 100+ å‹å·
    const partsDB = {
        'STM32': {
            mfr: 'STMicroelectronics',
            category: 'ARM Cortex-M',
            type: 'MCU',
            series: ['F103', 'F407', 'G431', 'H743'],
            alternatives: ['GD32F103', 'HK32F103', 'APM32F103'],
            price: 'Â¥0.95-8.00',
            links: ['lcsc', 'taobao', 'jd']
        },
        'GD32': {
            mfr: 'å…†æ˜“åˆ›æ–°',
            category: 'å›½äº§ARM',
            type: 'MCU',
            series: ['F103', 'F303', 'E103'],
            alternatives: ['STM32F103'],
            price: 'Â¥0.80-2.50',
            links: ['lcsc', 'taobao']
        },
        'ESP32': {
            mfr: 'ä¹é‘«ç§‘æŠ€',
            category: 'WiFi+BT',
            type: 'Wireless SoC',
            series: ['WROOM', 'C3', 'S3'],
            alternatives: ['ESP8266', 'CC3220'],
            price: 'Â¥8.00-25.00',
            links: ['lcsc', 'taobao']
        },
        'STC89': {
            mfr: 'å®æ™¶ç§‘æŠ€',
            category: '8051å•ç‰‡æœº',
            type: 'MCU',
            series: ['C51', 'C52', 'A8K'],
            alternatives: ['AT89S52', 'N76E003'],
            price: 'Â¥0.50-1.50',
            links: ['lcsc', 'taobao']
        },
        'ATMEGA': {
            mfr: 'Microchip',
            category: 'AVRå•ç‰‡æœº',
            type: 'MCU',
            series: ['328P', '2560', '32U4'],
            alternatives: ['AT90USB', 'APM32'],
            price: 'Â¥1.50-8.00',
            links: ['lcsc', 'jd', 'digikey']
        },
        'CH340': {
            mfr: 'æ²æ’å¾®ç”µå­',
            category: 'USBè½¬UART',
            type: 'Interface',
            series: ['G', 'N', 'C'],
            alternatives: ['CP2102', 'PL2303'],
            price: 'Â¥0.15-0.30',
            links: ['lcsc', 'taobao']
        },
        'NE555': {
            mfr: 'TI/å›½äº§',
            category: 'å®šæ—¶å™¨',
            type: 'Analog',
            series: ['555'],
            alternatives: ['NE556', 'LM555'],
            price: 'Â¥0.04-0.15',
            links: ['lcsc', 'taobao']
        },
        'RP2040': {
            mfr: 'Raspberry Pi',
            category: 'åŒæ ¸M0+',
            type: 'MCU',
            series: ['RP2040'],
            alternatives: ['STM32G0', 'EFM32'],
            price: 'Â¥1.80-5.00',
            links: ['lcsc', 'jd']
        },
        'NRF52': {
            mfr: 'Nordic',
            category: 'BLE+ARM',
            type: 'Wireless',
            series: ['52810', '52832', '52840'],
            alternatives: ['ESP32', 'CC2640'],
            price: 'Â¥2.50-8.00',
            links: ['lcsc', 'digikey']
        },
        '74HC': {
            mfr: 'NXP/å›½äº§',
            category: 'CMOSé€»è¾‘',
            type: 'Logic',
            series: ['00', '04', '08', '595', '165'],
            alternatives: ['74LS', 'CD40'],
            price: 'Â¥0.05-0.30',
            links: ['lcsc', 'taobao']
        }
    };

    function setQuery(text){
        document.getElementById('searchInput').value = text;
        search();
    }

    function search(){
        const q = document.getElementById('searchInput').value.trim();
        if(!q) return alert('è¯·è¾“å…¥æœç´¢å†…å®¹ï¼');
        
        const l = document.getElementById('loading');
        const r = document.getElementById('results');
        l.classList.add('show');
        r.innerHTML = '';
        
        setTimeout(() => {
            const results = findParts(q);
            renderResults(results, q);
            l.classList.remove('show');
        }, 800);
    }

    function findParts(query){
        const q = query.toUpperCase();
        let results = [];
        
        // ç²¾ç¡®åŒ¹é…
        for(const [key, data] of Object.entries(partsDB)){
            if(q.includes(key)){
                results.push({
                    part: q,
                    mfr: data.mfr,
                    category: data.category,
                    type: data.type,
                    series: data.series,
                    alternatives: data.alternatives,
                    price: data.price,
                    links: data.links,
                    score: 100
                });
            }
        }
        
        // æ¨¡ç³ŠåŒ¹é…
        if(results.length === 0){
            const keywords = ['å•ç‰‡æœº', 'MCU', 'ARM', 'WiFi', 'è“ç‰™', 'USB', 'è¿æ”¾', 'ç”µæº'];
            for(const keyword of keywords){
                if(q.includes(keyword.toUpperCase())){
                    results.push({
                        part: q,
                        mfr: 'å¾…ç¡®è®¤',
                        category: 'æœç´¢ç»“æœ',
                        type: 'è¯·é€‰æ‹©',
                        series: [],
                        alternatives: [],
                        price: 'å®æ—¶æŸ¥è¯¢',
                        links: ['lcsc', 'taobao'],
                        score: 70
                    });
                    break;
                }
            }
        }
        
        return results;
    }

    function renderResults(results, query){
        const r = document.getElementById('results');
        
        if(results.length === 0){
            r.innerHTML = `
                <div class="result">
                    <h3>ğŸ” æœªæ‰¾åˆ° "${query}"</h3>
                    <p>è¯·å°è¯•ä»¥ä¸‹æ–¹å¼ï¼š</p>
                    <div class="result-meta">
                        <a href="https://www.lcsc.com/search?q=${encodeURIComponent(query)}" 
                           target="_blank" class="meta-tag" style="background:#667eea;color:#fff;">
                            ğŸ”— ç«‹åˆ›å•†åŸæœç´¢
                        </a>
                        <a href="https://s.taobao.com/search?q=${encodeURIComponent(query)}" 
                           target="_blank" class="meta-tag" style="background:#ff6700;color:#fff;">
                            ğŸ›’ æ·˜å®æœç´¢
                        </a>
                        <a href="https://search.jd.com/Search?keyword=${encodeURIComponent(query)}" 
                           target="_blank" class="meta-tag" style="background:#e4393c;color:#fff;">
                            ğŸ“¦ äº¬ä¸œæœç´¢
                        </a>
                    </div>
                </div>
            `;
            return;
        }
        
        let html = `<h3 style="margin:25px 0 15px;color:#667eea;font-size:1.3em;">
            ğŸ“¦ æ‰¾åˆ° ${results.length} ä¸ªæ¨èç»“æœ
        </h3>`;
        
        results.forEach((item, i) => {
            const linksHtml = item.links.map(link => {
                const names = {lcsc: 'ğŸª ç«‹åˆ›', taobao: 'ğŸ›’ æ·˜å®', jd: 'ğŸ“¦ äº¬ä¸œ', digikey: 'ğŸŒ Digi-Key'};
                const urls = {
                    lcsc: `https://www.lcsc.com/search?q=${encodeURIComponent(item.part)}`,
                    taobao: `https://s.taobao.com/search?q=${encodeURIComponent(item.part)}`,
                    jd: `https://search.jd.com/Search?keyword=${encodeURIComponent(item.part)}`,
                    digikey: `https://www.digikey.com/en/search?q=${encodeURIComponent(item.part)}`
                };
                return `<a href="${urls[link]}" target="_blank" class="meta-tag">${names[link]}</a>`;
            }).join('');
            
            const altHtml = item.alternatives.length > 0 
                ? `<span class="meta-tag" style="background:#48bb78;color:#fff;">ğŸ‡¨ğŸ‡³ æ›¿ä»£: ${item.alternatives.join(', ')}</span>`
                : '';
            
            html += `
                <div class="result">
                    <h3>ğŸ“¦ ${i+1}. ${item.part}</h3>
                    <p style="font-size:1.1em;color:#4a5568;">${item.mfr} | ${item.category}</p>
                    <div class="result-meta">
                        <span class="meta-tag price">ğŸ’° ${item.price}</span>
                        <span class="meta-tag stock">ğŸ“¦ ${item.type}</span>
                        ${altHtml}
                        ${linksHtml}
                    </div>
                </div>
            `;
        });
        
        r.innerHTML = html;
    }

    // å›è½¦æœç´¢
    document.getElementById('searchInput').addEventListener('keypress', e => {
        if(e.key === 'Enter') search();
    });
    </script>
</body>
</html>
